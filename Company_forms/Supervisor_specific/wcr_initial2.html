<!DOCTYPE html>
<html>
    <head>
        <title> Two-Way Schedular</title>
        <style>
            body {
                background-color: rgba(88, 155, 243, 0.76);
            }

            .button {
                background-color: blue;
                color: white;
                text-align: center;
                height: 50px;
                width: 100px;
                margin-left: 470px;
                font-size: 16px;
            }

            div {
                background-color: rgb(229, 229, 232);
                height: 2000px;
                width: 1010px;
                margin-top: 20px;
                margin-left:70px;
            }

            .regInput {
                width: 430px;
                height: 30px;
                margin-left: 300px;
                font-size: 16px;
            }
        </style>
    </head>
    <body>
        <div>
            <br>
            <form action="/wcr_initial2" method="post">
                <button type="button" class="button" onClick="genForm()">
                    Press to Generate
                </button>
                <br>
                <label class="regInput" for="Employees">Who are the employee(s) under your supervision?</label>
                <br>
                <label class="regInput" for="Emp">If there is more than one employee under your supervision</label>
                <br>
                <label class="regInput" for="Emp2">with the same name, enter the name that they are referred</label>
                <br>
                <label class="regInput" for="Emp2">to by (their nickname)</label>
                <br>
                <input class="regInput" type="hidden" id="empName1" name="empName1" placeholder="Full Name Employee 1"/>
                <br>
                <input class="regInput" type="hidden" id="empName2" name="empName2" placeholder="Full Name Employee 2"/>
                <br>
                <input class="regInput" type="hidden" id="empName3" name="empName3" placeholder="Full Name Employee 3"/>
                <br>
                <input class="regInput" type="hidden" id="empName4" name="empName4" placeholder="Full Name Employee 4"/>
                <br>
                <input class="regInput" type="hidden" id="empName5" name="empName5" placeholder="Full Name Employee 5"/>
                <br>
                <input class="regInput" type="hidden" id="empName6" name="empName6" placeholder="Full Name Employee 6"/>
                <br>
                <input class="regInput" type="hidden" id="empName7" name="empName7" placeholder="Full Name Employee 7"/>
                <br>
                <input class="regInput" type="hidden" id="empName8" name="empName8" placeholder="Full Name Employee 8"/>
                <br>
                <input class="regInput" type="hidden" id="empName9" name="empName9" placeholder="Full Name Employee 9"/>
                <br>
                <input class="regInput" type="hidden" id="empName10" name="empName10" placeholder="Full Name Employee 10"/>
                <br>
                <input class="regInput" type="hidden" id="empName11" name="empName11" placeholder="Full Name Employee 11"/>
                <br>
                <input class="regInput" type="hidden" id="empName12" name="empName12" placeholder="Full Name Employee 12"/>
                <br>
                <input class="regInput" type="hidden" id="empName13" name="empName13" placeholder="Full Name Employee 13"/>
                <br>
                <input class="regInput" type="hidden" id="empName14" name="empName14" placeholder="Full Name Employee 14"/>
                <br>
                <input class="regInput" type="hidden" id="empName15" name="empName15" placeholder="Full Name Employee 15"/>
                <br>
                <input class="regInput" type="hidden" id="empName16" name="empName16" placeholder="Full Name Employee 16"/>
                <br>
                <input class="regInput" type="hidden" id="empName17" name="empName17" placeholder="Full Name Employee 17"/>
                <br>
                <input class="regInput" type="hidden" id="empName18" name="empName18" placeholder="Full Name Employee 18"/>
                <br>
                <input class="regInput" type="hidden" id="empName19" name="empName19" placeholder="Full Name Employee 19"/>
                <br>
                <input class="regInput" type="hidden" id="empName20" name="empName20" placeholder="Full Name Employee 20"/>
                <br>
                <input class="regInput" type="hidden" id="empName21" name="empName21" placeholder="Full Name Employee 21"/>
                <br>
                <input class="regInput" type="hidden" id="empName22" name="empName22" placeholder="Full Name Employee 22"/>
                <br>
                <input class="regInput" type="hidden" id="empName23" name="empName23" placeholder="Full Name Employee 23"/>
                <br>
                <input class="regInput" type="hidden" id="empName24" name="empName24" placeholder="Full Name Employee 24"/>
                <br>
                <input class="regInput" type="hidden" id="empName25" name="empName25" placeholder="Full Name Employee 25"/>
                <br>
                <input class="regInput" type="hidden" id="empName26" name="empName26" placeholder="Full Name Employee 26"/>
                <br>
                <input class="regInput" type="hidden" id="empName27" name="empName27" placeholder="Full Name Employee 27"/>
                <br>
                <input class="regInput" type="hidden" id="empName28" name="empName28" placeholder="Full Name Employee 28"/>
                <br>
                <input class="regInput" type="hidden" id="empName29" name="empName29" placeholder="Full Name Employee 29"/>
                <br>
                <input class="regInput" type="hidden" id="empName30" name="empName30" placeholder="Full Name Employee 30"/>
                <br>
                <br>
                <label class="regInput" for="loc1" id="loc1"></label>
                <br>
                <label class="regInput" for="loc2" id="loc2"></label>
                <br>
                <input class="regInput" type="hidden" id="locName1" name="locName1" placeholder="Location #1"/>
                <br>
                <input class="regInput" type="hidden" id="locName2" name="locName2" placeholder="Location #2"/>
                <br>
                <input class="regInput" type="hidden" id="locName3" name="locName3" placeholder="Location #3"/>
                <br>
                <input class="regInput" type="hidden" id="locName4" name="locName4" placeholder="Location #4"/>
                <br>
                <input class="regInput" type="hidden" id="locName5" name="locName5" placeholder="Location #5"/>
                <br>
                <input class="regInput" type="hidden" id="locName6" name="locName6" placeholder="Location #6"/>
                <br>
                <input class="regInput" type="hidden" id="locName7" name="locName7" placeholder="Location #7"/>
                <br>
                <input class="regInput" type="hidden" id="locName8" name="locName8" placeholder="Location #8"/>
                <br>
                <input class="regInput" type="hidden" id="locName9" name="locName9" placeholder="Location #9"/>
                <br>
                <input class="regInput" type="hidden" id="locName10" name="locName10" placeholder="Location #10"/>
                <br>
                <br>
                <input class="button" type="submit" value="Submit"/>
            </form>
        </div>
        <script type="text/javascript">
            async function genForm() {
                
                // generate the employee entries first
                let response = await fetch("/getNumOfEmps");
                if (!response.ok) {
                    console.log("ERROR: issue with getting the number of employees");
                }
                let resJson = await response.json()
                console.log("Response: " + resJson);

                // turn string to an int
                let numOfEmps = parseInt(resJson, 10);
        
                // create the employee inputs
                for (index = 1; index <= numOfEmps; index++) {
                    document.getElementById("empName" + index).type = "text";
                }
        
                // get whether the supervisor is in charge of multiple locations or not
                let multLocResp = await fetch("/multLocYN");
                if (!multLocResp.ok) {
                    console.log("ERRROR: issue with getting Y/N of multiple locations");
                }
                let multLocRespStr = await multLocResp.json();

                console.log(" Multiple locations: " + multLocRespStr);

                if (multLocRespStr == "yes") {
                    // create the label
                    document.getElementById("loc1").innerHTML = "If you are responsible for multiple locations";
                    document.getElementById("loc2").innerHTML = "Enter the names of the locations under your supervision:";

                    // get the number of locations
                    let numResp = await fetch("/numLoc");
                    if (!numResp.ok) {
                        console.log("ERROR: issue getting number of locations");
                    }

                    let numRes = await numResp.json();
                    console.log("Number of Locations: " + numRes);
                    let num = parseInt(numRes, 10);
                    
                    // create the location inputs
                    for (let index = 1; index <= num; index++) {
                        document.getElementById("locName" + index).type = "text";
                    }
                }
            }
        </script>
    </body>
</html>